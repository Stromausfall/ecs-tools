allprojects {
    apply plugin: "eclipse"
    apply plugin: "idea"
	apply plugin: "maven"

    version = '0.1.3'
    ext {
        appName = 'ecs-tools'
        gdxVersion = '1.6.4'
        ashleyVersion = '1.6.0'
    }

    repositories {
        mavenCentral()
        maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
        maven { url "https://oss.sonatype.org/content/repositories/releases/" }
    }
}

project(":ecs-gui") {
    apply plugin: "java"

    dependencies {
        compile "com.badlogicgames.gdx:gdx:$gdxVersion"
        compile "com.badlogicgames.ashley:ashley:$ashleyVersion"
    }
}

// create jars of each project
task allJar(type: Jar, dependsOn: subprojects.assemble ) {
    baseName = appName
    subprojects.each { subproject ->
        from subproject.configurations.archives.allArtifacts.files.collect {
            zipTree(it)
        }
    }
    subprojects.each { subproject ->
        from subproject.sourceSets.main.java.srcDirs {
            zipTree(it)
        }
    }
	
	// merge the jars
	artifacts {
		archives allJar
	}
}
